############### CHANGELOG AND QUESTIONS #################


## Started updating "allvariables.xlsx". Setting the frame for the soil nitrogen submodel implementation
## All additions/changes are in red font (NOT red highlighting!)
## Additionnally, existing values that got modified are in bold italic

------------------ Jun 16 2021 ------------------

- Added / modified variables related to the upcoming addition of the Soil Nitrogen module
  Name for corresponding R module in the excel is "rSoilNitrogen"

- Changed some soil-specific variable types in allvariables.xslx for variables that are dependent on soil layer.
  A lot were single "numeric" data while we would actually need either a data.frame or 10 different variables, one
  for each possible soil layer (i.e pSoilOrganicN.1, pSoilOrganicN.2 ... pSoilOrganicN.10 )

- Presently, some layer-dependent variables are represented as 10 different ones, while some are composed of a single
  data.frame (supposedly 1-dimensional). What would the convention be if we were to decide what variable should
  be represented as a data.frame and which should be split into 10 numeric variables ?
  For now, I decided to implement state variables (subject to vary during the simulation) as different numeric variables and
  soil parameters (that will remain constant throughout) as data frames

- Specifically, pSoilCurveNumber, parameter allowing calculation of the drainage factor, would be considered layer-specific,
  changed its type from "numeric" to "data.frame"

- iniWL, U, and DRAINF new names were changed so they fit the naming convention (cf. "Translation of SSM into R.pdf")

- VPDF type is "SoilParameter"
  The excel model did not consider it a soil parameter but it was instead in the "Location" tab
  So it would seem it's rather a parameter of Latitude / Longitude
  Description explains it's a parameter depending on climate, that varies from 0.65 for humid/sub-humid climates to 0.75 for arid ones
  Thus, changed its type from "SoilParameter" to "LocationParameter" although none other variables are of this type
  Might fit into a better type.

- There is an ambiguity for certain variables that represent INITIAL values. Should they be considered as inputs or parameters ?
  For instance, initial amount of soluble N in L layer...

  UPDATE : Initial values, of N for instance, are considered inputs for now

  There also is some ambiguity for variables that represent the sum of each layer's value
  For example total amount of soluble N in soil being the sum of each layer's amount
  Should the be considered as computed variables or state variables ?
  Probably needs to have it figured out for each single variable specifically.

  UPDATE : Variables that are summed from each layer each timestep are considered computed for now

- U, renamed to "pU", is a parameter for calculating evaporation, shouldn't it be specific to each layer ? Or are
  we assuming that evaporation only happens in the very top layer, no matter how thin it could be ?

- In the excel, organic N amount and organic N percentage were considered "parameters". Changed their types to state variables
  as we will be interested in tracking their values, and their changes, especially when implementing the break down of legume crops
  as a way to recycle their fixated N into organic N for the soil


------------------ Jun 17 2021 ------------------

- ADDED sNMineralization.L for NMIN, sTotalNMineralization for SNMIN, sCumulatedNMineralization for CNMIN
  The second being the sum of each layer's net mineralization, would it be computed or state variable
  Cumulated being the sum of every daily NMIN, computed ? or state variable ?

  UPDATE :Variables being the sum of each layer are set to 0 at the beginning of each timestep -> COMPUTED
          Cumulated variables keep their values from one timestep to the next -> STATE VARIABLE

- ADDED soil temperature as "sSoilTemp". Should it be considered a computed variable or a state variable?
  It is computed from air temperature as parameter, but it does represent a state of the system

  UPDATE: For now, decided to consider it computed, since it's computed at the beginning of each timestep

- For soil variables that are computed from the sum of each layer at each timestep, ambiguity between computed
  or state variable solved from "Translation of SSM into R.pdf"
  Since they are set to 0 at the beginning of each timestep (at least in VBA model), we can consider them computed and not state variables

- Variable named "WFNDNIT" is ambiguous. It seems unused in the original VBA model since it's commented out the code.
  Should we account for it in the R model ? I cannot find it in the SSM documentation pdf although it probably is a 
  "Water Factor for Nitrogen Denitrification".
  I also know there's a factor to account for in denitrification being how long through the day will there be enough water
  for denitrification ? For example you'd have NDNIT multiplied by 0.25 if you assumed there would be enough water during 6 hours.
  WFNDNIT might represent this particular factor, although I am still unsure. For now, the corresponding line in the excel is
  left blank and highlighted in yellow.

- Finished adding the variables into the Excel. There remains some ambiguities so it might be reworked a little.








